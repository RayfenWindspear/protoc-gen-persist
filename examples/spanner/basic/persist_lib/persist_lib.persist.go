// This file is generated by protoc-gen-persist
// Source File: examples/spanner/basic/basic_example.proto
// DO NOT EDIT

package persist_lib

import (
	"cloud.google.com/go/spanner"
	"golang.org/x/net/context"
)

type PersistHelper struct {

	
	UniaryInsertParam func(context.Context, map[string]interface{},func(map[string]interface{}))
	
	

	
	UniarySelectParam func(context.Context, map[string]interface{},func(map[string]interface{}))
	
	

	
	
	ClientStreamInsertParam func(context.Context)(func(map[string]interface{}), func())
	

}



func(p *PersistHelper) UniaryInsert(ctx context.Context, params map[string]interface{}, fn func(row map[string]interface{})) {
	p.UniaryInsertParam(ctx, params, fn)
}





func(p *PersistHelper) UniarySelect(ctx context.Context, params map[string]interface{}, fn func(row map[string]interface{})) {
	p.UniarySelectParam(ctx, params, fn)
}







// given a context, returns two functions.  (feed, stop)
// feed will be called once for every row recieved by the handler
// stop will be called when the client is done streaming it expects some sort of results to be returned
// that can be marshalled into a response
func(p *PersistHelper) ClientStreamInsert(ctx context.Context)(func(row map[string]interface{}), func() row[string]interface{}) {
	return p.ClientStreamInsertParam(ctx)
}





func ExampleTableForUniaryInsert(req map[string]interface{}) *spanner.Mutation{
	return spanner.InsertMap("example_table", map[string]interface{}{
	"id": req["Id"],
	"start_time": req["StartTime"],
	"name": "bananas",
})
}



func ExampleTableForUniarySelect(req map[string]interface{}) *spanner.Statement {
	return &spanner.Statement{
	SQL: "SELECT * from example_table Where id=@id AND name=@name",
	Params: map[string]interface{}{
	"@id": req["Id"],
	"@start_time": req["StartTime"],
	"@name": req["Name"],
},
}
}



func ExampleTableForClientStreamInsert(req map[string]interface{}) *spanner.Mutation{
	return spanner.InsertMap("example_table", map[string]interface{}{
	"id": req["Id"],
	"start_time": req["StartTime"],
	"name": 3,
})
}


